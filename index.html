<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>√âcla√Ør</title>

  <!-- Google Fonts: Alice -->
  <link href="https://fonts.googleapis.com/css2?family=Alice&display=swap" rel="stylesheet">

  <!-- CSS -->
  <link rel="stylesheet" href="style.css"/>
</head>
<body>

  <!-- Navigation -->
  <nav>
    <div class="logo"><img src="logo.jpg" alt="√âcla√Ør logo"></div>
    <button class="menu-toggle" aria-label="Toggle Menu">&#9776;</button>
    <ul class="nav-links">
      <li><a href="#about">About √âcla√Ør</a></li>
      <li><a href="#menu">Our Specialties</a></li>
      <li><a href="#hours">Hours</a></li>
      <li><a href="#contact">Get in Touch</a></li>
      <li><a href="menu.html" class="hero-menu-btn">Full Menu</a></li>
      <li><a href="admin.html" class="hero-menu-btn">Admin</a></li>
    </ul>
  </nav>

  <!-- Hero Section -->
  <header class="hero">
    <div class="hero-images">
      <img src="1.jpg" alt="Pastry 1" loading="lazy">
      <img src="2.jpg" alt="Pastry 2" loading="lazy">
      <img src="3.jpg" alt="Pastry 3" loading="lazy">
    </div>

    <div class="overlay">
      <h1>√âcla√Ør</h1>
      <p id="greeting"></p>
      <p>- French By Origin -</p>
      <p>- Refined by Ingredients -</p>
      <a href="#menu" class="btn">See Our Specialities</a>
    </div>
  </header>

  <!-- About -->
  <section id="about">
    <h2 style="color: beige;">About √âcla√Ør</h2>
    <p style="color: beige;">
      At √âcla√Ør, we bring you artisanal French-inspired pastries and specialty coffees crafted with the finest ingredients.
    </p>
  </section>

  <!-- Decorative Images -->
  <div class="decor-img">
    <img src="6.jpg" alt="Pastries" loading="lazy">
    <img src="8.jpg" alt="Pastries" loading="lazy">
    <img src="3.jpg" alt="Pastries" loading="lazy">
  </div>

  <!-- Menu (Specialties) -->
  <section id="menu">
    <h2>Our Specialties</h2>
    <div class="menu-items">
      <div class="item"><img src="5.jpg" alt="Cookies" loading="lazy"></div>
      <div class="item"><img src="10.jpg" alt="√âclair" loading="lazy"></div>
      <div class="item"><img src="9.jpg" alt="Croissant" loading="lazy"></div>
    </div>
    <a href="menu.html" class="btn">View Full Menu</a>
  </section>

  <!-- Featured Products (live) -->
  <section id="featured">
    <h2>Featured Products</h2>
    <!-- removed the extra text line -->
    <div id="featured-grid" class="products-grid"></div>
    <a href="menu.html#shop" class="btn">Shop All</a>
  </section>

  <!-- Hours -->
  <section id="hours" class="hours">
    <h2 style="color: beige;">Opening Hours</h2>
    <ul id="opening-hours">
      <li><span>Monday:</span> 8:00 AM ‚Äì 6:00 PM</li>
      <li><span>Tuesday:</span> 9:00 AM ‚Äì 7:00 PM</li>
      <li><span>Wednesday:</span> 8:30 AM ‚Äì 6:30 PM</li>
      <li><span>Thursday:</span> 9:00 AM ‚Äì 5:30 PM</li>
      <li><span>Friday:</span> 8:00 AM ‚Äì 8:00 PM</li>
      <li><span>Saturday:</span> 9:00 AM ‚Äì 6:00 PM</li>
      <li><span>Sunday:</span> Closed</li>
    </ul>
  </section>

  <!-- Decorative Images -->
  <div class="decor-img">
    <img src="outside1.jpg" alt="Exterior" loading="lazy">
    <img src="inside.jpg" alt="Interior" loading="lazy">
    <img src="inside3.jpg" alt="Interior" loading="lazy">
  </div>

  <!-- Contact / Social Links -->
  <section id="contact">
    <h2 style="color: beige;">Get in Touch</h2>
    <div class="social-links">
      <a href="https://www.instagram.com/_eclair_86" target="_blank" class="instagram" rel="noopener">Instagram</a>
      <a href="https://wa.me/23057053770" target="_blank" class="whatsapp" rel="noopener">WhatsApp</a>
      <a href="#" target="_blank" class="facebook" rel="noopener">Facebook</a>
      <a href="#" target="_blank" class="tiktok" rel="noopener">TikTok</a>
    </div>
  </section>

  <!-- Full-width Map -->
  <section class="map-fullwidth" style="position: relative; height: auto; overflow: hidden; text-align: center;">
    <div style="width:100%; height:400px; position: relative;">
      <iframe
        src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3885.798593618362!2d57.46667641534631!3d-20.23175878538808!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x217c5b007e587601%3A0x9c7b663d58b43cb!2s%C3%89cla%C3%AFr!5e0!3m2!1sen!2smu!4v1723808460660!5m2!1sen!2smu"
        style="width:100%; height:100%; border:0; position: absolute; top:0; left:0;"
        allowfullscreen="" loading="lazy" referrerpolicy="no-referrer-when-downgrade">
      </iframe>
    </div>
    <a href="https://www.google.com/maps/place/%C3%89cla%C3%AFr/@-20.2317384,57.4583981,15z/data=!3m1!4b1!4m6!3m5!1s0x217c5b007e587601:0x9c7b663d58b43cb!8m2!3d-20.2317588!4d57.4686764!16s%2Fg%2F11x0ddy63f?entry=ttu"
       target="_blank" rel="noopener">üìç Open in Google Maps</a>
  </section>

  <footer>
    <p style="color: beige;">√âcla√Ør</p>
  </footer>

  <!-- Your UI behaviors (hamburger, hero vh fix, etc.) -->
  <script src="script.js"></script>

  <!-- Firebase compat -->
  <script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-database-compat.js"></script>

  <!-- Load Featured (reads RTDB /products) -->
  <script>
    (function initFirebase(){
      const firebaseConfig = {
        apiKey: "AIzaSyDnYlw01KhjWRXLhatnr9fFcXA4Q_zOs10",
        authDomain: "eclair-501b7.firebaseapp.com",
        databaseURL: "https://eclair-501b7-default-rtdb.firebaseio.com",
        projectId: "eclair-501b7",
        storageBucket: "eclair-501b7.appspot.com",
        messagingSenderId: "1042027942352",
        appId: "1:1042027942352:web:fa760d5609f5713c0d69d5",
        measurementId: "G-BC1Z5MKSTH"
      };
      if (!firebase.apps.length) firebase.initializeApp(firebaseConfig);
      window.__DB__ = firebase.database();
    })();

    function currency(n){ return Number(n||0); }

    function loadFeaturedProducts(limit = 6) {
      const grid = document.getElementById('featured-grid');
      if (!grid || !window.__DB__) return;

      grid.innerHTML = '<div style="opacity:.6;">Loading‚Ä¶</div>';

      window.__DB__.ref('products').once('value').then(snap => {
        const obj = snap.val() || {};
        const items = Object.values(obj)
          .filter(p => p.visible)
          .sort((a,b)=> (b.createdAt||0)-(a.createdAt||0))
          .slice(0, limit);

        if (!items.length) {
          grid.innerHTML = '<p style="opacity:.7;">No featured products yet.</p>';
          return;
        }

        grid.innerHTML = items.map(p => {
          const hasSizes = Array.isArray(p.sizes) && p.sizes.length;
          const fromPrice = hasSizes
            ? Math.min(...p.sizes.map(s => Number(s.price||0)))
            : Number(p.basePrice || 0);

          return `
            <div class="product-card">
              <img src="${p.image||''}" alt="${p.name||''}" loading="lazy">
              <h4>${p.name||''}</h4>
              <p class="price">${hasSizes ? 'From ' : ''}Rs ${currency(fromPrice)}</p>
              <a href="menu.html#shop" class="btn">Order</a>
            </div>
          `;
        }).join('');
      }).catch(err => {
        console.error(err);
        grid.innerHTML = '<p style="color:#c00;">Could not load featured items.</p>';
      });
    }

    document.addEventListener('DOMContentLoaded', () => loadFeaturedProducts(6));
  </script>
</body>
</html>
